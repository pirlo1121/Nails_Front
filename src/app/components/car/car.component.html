<div class="carrito-overlay" (click)="closeCariito()"></div>

<div class="carrito-container">
  <!-- Header -->
  <div class="carrito-header">
    <h2>
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="9" cy="21" r="1"></circle>
        <circle cx="20" cy="21" r="1"></circle>
        <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"></path>
      </svg>
      Mi Carrito
    </h2>
    <button class="close-btn" (click)="closeCariito()" aria-label="Cerrar carrito">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <line x1="18" y1="6" x2="6" y2="18"></line>
        <line x1="6" y1="6" x2="18" y2="18"></line>
      </svg>
    </button>
  </div>

  <!-- Empty State -->
  <div class="empty-cart" *ngIf="!carrito || carrito.length === 0">
    <div class="empty-icon">ðŸ›’</div>
    <h3>Tu carrito estÃ¡ vacÃ­o</h3>
    <p>Agrega algunos productos para comenzar</p>
  </div>

  <!-- Products List -->
  <div class="carrito-products" *ngIf="carrito && carrito.length > 0">
    <div class="product-item" *ngFor="let item of carrito">
      <div class="product-image">
        <img [src]="item.urlImage" [alt]="item.name" onerror="this.src='https://via.placeholder.com/80'">
      </div>
      <div class="product-info">
        <h4>{{ item.name }}</h4>
        <div class="product-details">
          <span class="quantity">Cantidad: <strong>{{ item.count }}</strong></span>
          <span class="price">${{ item.price | number:'1.0-0' }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Footer -->
  <div class="carrito-footer" *ngIf="carrito && carrito.length > 0">
    <div class="total-section">
      <span class="total-label">Total:</span>
      <span class="total-amount">${{ total | number:'1.0-0' }}</span>
    </div>
    <div class="actions">
      <button class="btn-secondary" (click)="cleanCarrito()">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <polyline points="3 6 5 6 21 6"></polyline>
          <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
        </svg>
        Vaciar
      </button>
      <button class="btn-primary">
        <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
          stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
          <line x1="1" y1="10" x2="23" y2="10"></line>
        </svg>
        Pagar
      </button>
    </div>
  </div>
</div>